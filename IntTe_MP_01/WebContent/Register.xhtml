<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	      xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">
<head>
<script type="text/javascript">
	   function checkPassword(p1, p2)
	   {
	     if (p1.value != p2.value) {
	       p2.setCustomValidity('Passwords do not match');
	     } else {
	       p2.setCustomValidity('');
	     }
	   }

</script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Insert title here</title>
</head>
<body>
<h:form>
	<table border="0">
		
		<tr><td>Username</td>
			<td>
			<h:inputText type="text" id="name" size="30" maxlength = "60"
			value="#{user.name}"
			required ="true"
			requiredMessage="Please enter a Username"
			validator="#{userManager.validateUserName}">
			</h:inputText>
			</td>
			<td><h:message for="name" style="color:red" /></td>
		</tr>
		<tr><td>Password</td>
			<td>
			<h:inputSecret type="password" binding="#{passwordComponent}" id="password" size="30" maxlength = "60"
			value="#{user.password}"
			required ="true"
			requiredMessage="Please enter a Password">
			</h:inputSecret>
			</td>
			<td><h:message for="password" style="color:red" /></td>
		</tr>
		<tr><td>Verify Password</td>
			<td>			
			<h:inputSecret type="password" id="pw_verification" size="30" maxlength = "60"
			required ="true"
			requiredMessage="Please enter a Password Verification">
				<f:validator validatorId="confirmPasswordValidator" />
    			<f:attribute name="passwordComponent" value="#{passwordComponent}" />
			</h:inputSecret>
			</td>
			<td><h:message for="pw_verification" style="color:red" /></td>
		</tr>

		<tr><td></td>
			<td>
			<h:commandButton id="register" 
			action="#{userManager.register(user)}" 
			value="register">
			</h:commandButton>
			</td>
		</tr>
	</table>
</h:form>
<a href="/IntTe_MP_01/ChatLobby.xhtml">back</a>

</body>
</html>