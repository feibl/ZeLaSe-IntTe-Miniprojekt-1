<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	      xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Insert title here</title>
</h:head>
<h:body>

	<h1>Chat Lobby</h1>
	Willkommen in der ChatLobby! Gegenwärtig sind
	<h:outputLabel value="#{chatManagerBean.numberOfChats}"></h:outputLabel>
	 <h:form name="userform">
	 Chats im	Gange.<br />
	 Login:<br />
	 Username:
		<h:inputText rendered="#{!user.loggedIn}" id="username" value="#{user.name}"></h:inputText><br />
	 Passwort:<h:inputSecret rendered="#{!user.loggedIn}" value="#{user.password}" id="password"></h:inputSecret> <br />
	 <h:commandButton rendered="#{!user.loggedIn}" action="#{userManager.login(user)}" value="login"></h:commandButton>
	 Oder <a href="/IntTe_MP_01/Register.xhtml">registrieren</a>.
	 	</h:form>
	 	<h:form name="chatform">
	 	... und erzeuge einen neuen Chat mit Namen: <h:inputText id="newchatname" value="#{chat.theme}"></h:inputText>
		<h:commandButton action="#{chatManagerBean.createNewChat(chat.theme)}" value="neu">
			
		</h:commandButton>
	</h:form>
	
	
	<h:form name="chatchoiceform">
	 	oder wähle einen Chat aus:
		<p:selectOneListbox id="scroll" styleClass="selectOneListbox" value="#{chatManagerBean.selectedChatRoom}" style="width:100%">
            <f:selectItems value="#{chatManagerBean.chatrooms}"
                var="chat" itemLabel="#{chat.theme}" itemValue="#{chat}"  />
        </p:selectOneListbox>
		<h:commandButton value="beitreten" action="#{chat.enter(userBean)}"></h:commandButton>
	</h:form>
</h:body>

</html>